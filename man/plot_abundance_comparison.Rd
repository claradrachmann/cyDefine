% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/06_visualize.R
\name{plot_abundance_comparison}
\alias{plot_abundance_comparison}
\title{Compare cell type abundances between reference and query datasets}
\usage{
plot_abundance_comparison(
  reference,
  query = NULL,
  ref_col = "celltype",
  query_col = "model_prediction",
  ref_name = "Reference",
  query_name = "Query",
  colors = NULL,
  return_data = FALSE
)
}
\arguments{
\item{reference}{Tibble of reference data or a list containing reference and query data.
If a list, should contain elements named 'reference' and 'query'}

\item{query}{Tibble of query data (cells in rows). Ignored if reference is a list}

\item{ref_col}{Character string specifying the column name containing cell types
in the reference dataset (default "celltype")}

\item{query_col}{Character string specifying the column name containing cell types
in the query dataset (default "model_prediction")}

\item{ref_name}{Character string for reference dataset label in legend (default "Reference")}

\item{query_name}{Character string for query dataset label in legend (default "Query")}

\item{colors}{Named vector of colors for datasets. If NULL, uses default green
for reference and orange for query}

\item{return_data}{Logical indicating whether to return the processed data instead
of the plot (default FALSE)}
}
\value{
ggplot2 object showing grouped bar plot of cell type abundances, or
data frame if return_data = TRUE
}
\description{
Creates a grouped bar plot comparing the proportions of cell types between
reference and query datasets. The plot shows percentage abundance on the y-axis
and cell types on the x-axis, with bars grouped by dataset.
}
